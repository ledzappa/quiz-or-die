(this.webpackJsonpquizmageddon=this.webpackJsonpquizmageddon||[]).push([[0],{107:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(1),s=n.n(a),r=n(17),i=n.n(r),o=(n(51),n(52),n(53),n(4)),l=n(3),u=n(18),d=n(15),j=n(110),b=n(23),h=(n(56),n(11)),m=n(14),O=n(13),f=n.n(O),p={getCategories:function(){return f.a.get("mocks/categories.json")},getPlayerDescriptionWords:function(){return f.a.get("mocks/playerDescriptionWords.json")},getQuestions:function(){return f.a.get("mocks/questions.json",{headers:{authorization:"Bearer "+localStorage.getItem("accessToken")}})},getAllQuestions:function(){return f.a.get("mocks/questions.json",{headers:{authorization:"Bearer "+localStorage.getItem("accessToken")}})},getRoundAndRoundThemes:function(){return f.a.get("mocks/roundAndRound.json")},addQuestion:function(e,t){console.log(t);var n=new FormData;return Object.keys(e).forEach((function(t){return n.append(t,e[t])})),t&&n.append("img",t,"img.jpg"),fetch("/api/questions",{method:"POST",body:n})},saveQuestion:function(e){return f.a.put("/api/questions",e)},deleteQuestion:function(e){return f.a.delete("/api/questions",e)},addUser:function(e){return f.a.post("/api/users",e)},login:function(e){return f.a.get("mocks/login.json")}};n(76);function x(e){var t=e.players,n=e.setPlayers,s=e.playBtnSound,r=Object(a.useState)(""),i=Object(l.a)(r,2),u=i[0],d=i[1],b=Object(a.useState)({nouns:[],adjectives:[]}),O=Object(l.a)(b,2),f=O[0],x=O[1],g=Object(j.d)();Object(a.useEffect)((function(){p.getPlayerDescriptionWords().then((function(e){return x(e.data)}))}),[]);var v=function(e){n([].concat(Object(h.a)(t),[{name:e,description:N(),points:0,isPlayersTurn:!1,isRoundAndRoundWinner:!1,perks:{freedomOfChoice:0,doubleUp:0}}])),d("")},y=function(){!function(){var e=Math.floor(Math.random()*t.length);n(t.map((function(t,n){return e===n?Object(o.a)(Object(o.a)({},t),{},{isPlayersTurn:!0}):t})))}(),s(),g.push("/show-turn")},N=function(){var e=f.nouns.length,t=Math.floor(Math.random()*e),n=f.nouns[t],c=f.adjectives.length,a=Math.floor(Math.random()*c),s=f.adjectives[a];return"The ".concat(s," ").concat(n)};return Object(c.jsx)("div",{className:"row justify-content-center",children:Object(c.jsxs)("div",{className:"col-12 col-sm-6 col-lg-6 col-xl-4",children:[Object(c.jsxs)("h2",{children:[Object(c.jsx)(m.a,{className:"mr-2",icon:"plus"}),"Add players"]}),Object(c.jsx)("p",{children:'Enter a name and press enter or the "Add" button.'}),Object(c.jsx)("label",{children:"Name"}),Object(c.jsxs)("div",{className:"input-group mb-3",children:[Object(c.jsx)("input",{type:"text",className:"form-control add-player",value:u,autoFocus:!0,onKeyPress:function(e){return"Enter"===e.key&&v(u)},onChange:function(e){return t=e.target.value,d(t);var t}}),Object(c.jsx)("button",{className:"btn btn-primary",onClick:function(){return v(u)},children:"Add"})]}),t.map((function(e,a){return Object(c.jsxs)("div",{className:"added-player",onClick:function(){return function(e){n(t.filter((function(t,n){return e!==n})))}(a)},children:[a+1,"."," ",Object(c.jsx)("span",{className:"font-weight-bold text-uppercase",children:e.name})," ","- ",e.description]},a)})),Object(c.jsx)("hr",{}),Object(c.jsx)("button",{className:"btn btn-primary w-100 start-game",onClick:function(){return y()},disabled:t.length<2,children:"Start Game!"})]})})}var g=n(7);function v(e){var t=e.categories,n=e.showModal,s=e.setCategories,r=e.setShowModal,i=Object(a.useState)({username:"",email:"",password:"",passwordRepeat:""}),u=Object(l.a)(i,2),d=(u[0],u[1],Object(a.useState)("")),j=Object(l.a)(d,2),b=j[0],h=(j[1],function(){r(!1)}),m=function(e){var n=e.target,c=n.checked,a=n.name,r=t.map((function(e){return e.id===Number(a)?Object(o.a)(Object(o.a)({},e),{},{disabled:!c}):e}));console.log(a),console.log(r),s(r)};return Object(c.jsxs)(g.a,{className:"text-dark",show:n,onHide:h,children:[Object(c.jsx)(g.a.Header,{closeButton:!0,children:Object(c.jsx)(g.a.Title,{children:"Settings"})}),Object(c.jsxs)(g.a.Body,{children:[Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{children:"Enabled Categories"}),t.map((function(e){return Object(c.jsxs)("div",{className:"form-check",children:[Object(c.jsx)("input",{className:"form-check-input",type:"checkbox",name:e.id.toString(),checked:!e.disabled,onChange:m}),Object(c.jsx)("label",{className:"form-check-label",children:e.name})]})}))]}),b.length>0&&Object(c.jsx)("div",{className:"alert alert-danger alert-icon",children:b})]}),Object(c.jsx)(g.a.Footer,{children:Object(c.jsx)("button",{type:"button",className:"btn btn-primary",onClick:h,children:"Close"})})]})}function y(e){var t=e.categories,n=e.settings,s=e.setCategories,r=e.setQuestions,i=e.setThemes,u=e.user,d=Object(j.d)(),b=Object(a.useState)(!1),h=Object(l.a)(b,2),m=h[0],O=h[1];Object(a.useEffect)((function(){p.getCategories().then((function(e){s(e.data.categories)})),p.getQuestions().then((function(e){var t=e.data.questions.map((function(e){return Object(o.a)(Object(o.a)({},e),{},{img:e.img?n.imgBaseUrl+e.img:null})})),c=t.filter((function(e){return!!e.img})).map((function(e){return e.img}));f(c),r(t)})),p.getRoundAndRoundThemes().then((function(e){i(e.data.themes)}))}),[]);var f=function(e){e.forEach((function(e){(new Image).src=e}))};return Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{className:"row",children:Object(c.jsx)("div",{className:"col-12 text-right",children:0===u.roleId&&Object(c.jsx)("button",{className:"btn btn-outline-light",onClick:function(){return d.push("/admin/questions")},children:"Admin"})})}),Object(c.jsxs)("div",{className:"text-center",children:[Object(c.jsx)("h1",{children:"Quizmageddon"}),Object(c.jsx)("p",{children:"Welcome to quizmageddon - the best quiz game ever created by men. Start the game by adding players!"}),Object(c.jsx)("button",{className:"btn btn-primary play-quizmageddon",onClick:function(){return d.push("/add-players")},children:"Play Quizmageddon"}),Object(c.jsx)("button",{className:"btn btn-outline-light",onClick:function(){O(!0)},children:"Settings"})]}),Object(c.jsx)(v,{categories:t,setCategories:s,showModal:m,setShowModal:O})]})}var N=n(12),w=(n(80),[{id:"double-up",name:"Double up!",description:"Yay! You get 2 points for a correct answer on the next question.",icon:"angle-double-up"},{id:"freedom-of-choice",name:"Freedom of choice!",description:"Choose your category for the next 3 rounds.",icon:"hand-sparkles"},{id:"landmine",name:"Landmine!",description:"BOOM! You lose 1 point if you answer wrong.",icon:"bomb"}]),k=[{id:"robin-hood",name:"Robin Hood",description:"#generated#"},{id:"change-direction",name:"Direction change!",description:"The direction changes after this turn.",icon:"sync"}];function S(e){var t=e.setDirection,n=e.setPlayers,s=e.players,r=e.playGoodPerkSound,i=Object(a.useState)({id:"",name:"",description:"",icon:""}),u=Object(l.a)(i,2),d=u[0],b=u[1],h=Object(j.d)();Object(a.useEffect)((function(){O()}),[]);var O=function e(){var t=Math.random()<.6?w:k,n=t[Math.floor(t.length*Math.random())];("robin-hood"!==n.id||P(s))&&("change-direction"!==n.id||C(s))?(b(n),r()):e()},f=function(e,t){n(s.map((function(n){return n.isPlayersTurn?Object(o.a)(Object(o.a)({},n),{},{perks:Object(o.a)(Object(o.a)({},n.perks),{},Object(N.a)({},e,t))}):n})))};return Object(c.jsx)("div",{id:d.id,className:"perk-wrapper text-center",children:Object(c.jsxs)("div",{className:"pb-5 w-100",children:[Object(c.jsx)("div",{className:"perk-icon animate__animated animate__rotateIn",children:Object(c.jsx)(m.a,{icon:d.icon})}),Object(c.jsx)("h1",{children:d.name}),Object(c.jsx)("p",{children:"robin-hood"===d.id?T(s):d.description}),Object(c.jsx)("button",{className:"btn btn-outline-light",onClick:function(){!function(e){switch(e){case"change-direction":t();break;case"freedom-of-choice":f("freedomOfChoice",3);break;case"double-up":f("doubleUp",1);break;case"robin-hood":n(M(s));break;case"landmine":f("landmine",1)}}(d.id),h.push("/select-category")},children:"Continue"})]})})}var C=function(e){return e.length>=3},P=function(e){var t=Math.max.apply(Math,Object(h.a)(e.map((function(e){return e.points})))),n=Math.min.apply(Math,Object(h.a)(e.map((function(e){return e.points})))),c=1===e.filter((function(e){return e.points===t})).length&&1===e.filter((function(e){return e.points===n})).length;return t!==n&&c},T=function(e){var t=Math.max.apply(Math,Object(h.a)(e.map((function(e){return e.points})))),n=Math.min.apply(Math,Object(h.a)(e.map((function(e){return e.points})))),c=e.filter((function(e){return e.points===t}))[0].name,a=e.filter((function(e){return e.points===n}))[0].name;return"".concat(c," generously donates 1 point to ").concat(a)},M=function(e){var t=Math.max.apply(Math,Object(h.a)(e.map((function(e){return e.points})))),n=Math.min.apply(Math,Object(h.a)(e.map((function(e){return e.points}))));return e.map((function(e){return e.points===n?Object(o.a)(Object(o.a)({},e),{},{points:e.points+1}):e.points===t?Object(o.a)(Object(o.a)({},e),{},{points:e.points-1}):e}))};n(81);function q(e){var t=e.currentQuestion,n=e.currentPlayer,s=e.players,r=e.setPlayers,i=e.playBtnSound,u=Object(a.useState)(!1),d=Object(l.a)(u,2),b=d[0],h=d[1],O=Object(a.useState)(30),f=Object(l.a)(O,2),p=f[0],x=f[1],g=Object(a.useState)(),v=Object(l.a)(g,2),y=v[0],N=v[1],w=Object(j.d)();Object(a.useEffect)((function(){k()}),[p,b]);var k=function(){b?clearTimeout(y):N(setTimeout((function(){p>0?x(p-1):(S(),clearTimeout(y))}),1e3))},S=function(){setTimeout((function(){return w.push("/scoreboard")}),2e3)},C=function(e,t){return e.map((function(e){return e.isPlayersTurn?Object(o.a)(Object(o.a)({},e),{},{points:Math.max(0,e.points+t)}):e}))};return Object(c.jsxs)("div",{children:[Object(c.jsxs)("div",{className:"mb-4",children:[Object(c.jsx)("div",{className:"text-uppercase",children:n.name}),Object(c.jsx)("h1",{className:"text-capitalize",children:t.category}),Object(c.jsx)("p",{children:function(e){if(e.includes("#ALT#")){var t=e.replace("#ALTEND#","").split("#ALT#"),n=t[1].split(";;"),c=n.pop(),a="".concat(n.join(", ")," or ").concat(c,"?");return t[0]+a}return e}(t.question)}),t.img&&Object(c.jsx)("div",{className:"text-center",children:Object(c.jsx)("img",{src:t.img})})]}),b?Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{className:"font-weight-bold",children:"Answer:"}),Object(c.jsx)("p",{children:t.answer}),Object(c.jsx)("hr",{}),Object(c.jsx)("div",{className:"mb-3",children:"Did you get it?"}),Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col-6",children:Object(c.jsxs)("button",{className:"btn btn-success w-100 p-3 font-weight-bold yes-button",onClick:function(){return function(){var e=n.perks.doubleUp>0?2:1,t=C(s,e);r(t),i(),w.push("/scoreboard")}()},children:[Object(c.jsx)(m.a,{icon:"check"}),"\xa0\xa0Yes"]})}),Object(c.jsx)("div",{className:"col-6",children:Object(c.jsxs)("button",{className:"btn btn-danger w-100 p-3 font-weight-bold no-button",onClick:function(){return function(){if(n.perks.landmine>0){var e=C(s,-1);r(e)}i(),w.push("/scoreboard")}()},children:[Object(c.jsx)(m.a,{icon:"times"}),"\xa0\xa0No"]})})]})]}):p>0?Object(c.jsxs)("div",{className:"text-center",children:[Object(c.jsx)("h1",{className:"mb-4",children:p}),Object(c.jsx)("button",{className:"btn btn-secondary w-100 p-3",onClick:function(){return h(!0),void i()},children:"Show answer"})]}):"Whops! You ran out of time!"]})}n(82);function R(e){var t,n,s=e.themes,r=e.players,i=e.setPlayers,u=e.playGoodPerkSound,d=e.playBtnSound,b=Object(a.useState)({description:"",randomizeLetter:!1}),h=Object(l.a)(b,2),m=h[0],O=h[1],f=Object(a.useState)(!1),p=Object(l.a)(f,2),x=p[0],g=p[1],v=Object(a.useState)(!1),y=Object(l.a)(v,2),N=y[0],w=y[1],k=Object(a.useState)(10),S=Object(l.a)(k,2),C=S[0],P=S[1],T=Object(a.useState)(null),M=Object(l.a)(T,2),q=M[0],R=M[1],A=Object(a.useState)(""),I=Object(l.a)(A,2),_=I[0],E=I[1],Q=Object(a.useState)(r),B=Object(l.a)(Q,2),L=B[0],z=B[1],F=Object(j.d)();Object(a.useEffect)((function(){u(),O(s[Math.floor(s.length*Math.random())]),E(U())}),[]),Object(a.useEffect)((function(){N&&D()}),[C]);var U=function(){var e="abcdefghijklmnoprstuvy".split("");return e[Math.floor(Math.random()*e.length)]},D=function(){R(setTimeout((function(){C>1?P(C-1):W(!0)}),1e3))},W=function(e){d(),clearTimeout(q);var t=L.filter((function(t){return!e||!t.isPlayersTurn}));1===t.length&&(i(r.map((function(e){return e.name===t[0].name?Object(o.a)(Object(o.a)({},e),{},{points:e.points+2,isRoundAndRoundWinner:!0}):e}))),setTimeout((function(){return F.push("/scoreboard")}),3e3));var n=t.findIndex((function(e){return e.isPlayersTurn})),c=n===t.length-1?0:n+1;z(t.map((function(e,t){return Object(o.a)(Object(o.a)({},e),{},{isPlayersTurn:c===t})}))),t.length>1&&P(10)};return Object(c.jsxs)("div",{children:[Object(c.jsxs)("div",{className:"round-and-round animate__animated animate__rotateIn",children:[Object(c.jsx)("h1",{children:"It's Round and round time!"}),Object(c.jsx)("p",{children:'Everyone gets 10 seconds to come up with an answer for a random theme, for example "Name a movie from the 90s". Press NEXT when a player answers successfully and the turn will go to the next player. If a player can\'t come up with an answer within 10 seconds the player gets eliminated. The last player that remains gets 3 points!'}),Object(c.jsx)("button",{className:"btn btn-outline-light",onClick:function(){return d(),void g(!0)},children:"Show theme and begin!"})]}),x&&Object(c.jsxs)("div",{className:"theme-wrapper",children:[Object(c.jsxs)("h3",{children:[m.description," ",m.randomizeLetter&&Object(c.jsx)("span",{className:"font-weight-bold",children:_.toLocaleUpperCase()})]}),Object(c.jsx)("hr",{}),N?Object(c.jsxs)("div",{children:[Object(c.jsx)("h3",{children:C}),Object(c.jsx)("button",{className:"btn btn-primary btn-next w-100 p-4 mt-4",onClick:function(){return W(!1)},disabled:!(C<10),children:Object(c.jsx)("h1",{className:"text-uppercase",children:L.length>1?null===(t=L.filter((function(e){return e.isPlayersTurn}))[0])||void 0===t?void 0:t.name:(null===(n=L[0])||void 0===n?void 0:n.name)+" wins!"})})]}):Object(c.jsx)("button",{className:"btn btn-outline-light",onClick:function(){return d(),w(!0),void D()},children:"Start!"})]})]})}n(83);function A(e){var t=e.players,n=e.setPlayers,s=e.direction,r=e.isRoundAndRound,i=e.setIsRoundAndRound,o=e.playGoodPerkSound,u=Object(a.useState)(),d=Object(l.a)(u,2),b=d[0],O=d[1],f=Object(a.useState)(!1),p=Object(l.a)(f,2),x=p[0],g=p[1];Object(a.useEffect)((function(){var e=t.filter((function(e){return e.points>=10}))[0];O(e),e&&setTimeout((function(){g(!0),o()}),3e3)}),[]);var v=Object(j.d)();return Object(c.jsxs)("div",{children:[Object(c.jsx)("h2",{children:"Scoreboard"}),Object(c.jsx)("table",{className:"table text-white",children:Object(c.jsx)("tbody",{children:Object(h.a)(t).sort((function(e,t){return t.points-e.points})).map((function(e,t){return Object(c.jsxs)("tr",{className:I(e,r)?"animate__animated animate__flash":"",children:[Object(c.jsxs)("td",{className:"text-uppercase",children:[t+1,". ",e.name]}),Object(c.jsxs)("td",{className:"text-right",children:[e.points,"p"]})]},t)}))})}),!b&&Object(c.jsx)("div",{className:"text-center pt-5",children:Object(c.jsxs)("button",{onClick:function(){return function(){if(Math.random()>.05||r){var e=E(t,s);e=Q(e),e=_(e),n(e),i(!1),v.push("/show-turn")}else i(!0),v.push("/round-and-round")}()},className:"btn btn-primary px-3 py-3",children:["Next round ",Object(c.jsx)(m.a,{className:"ml-2",icon:"arrow-right"})]})}),x&&Object(c.jsx)("div",{className:"winner-wrapper animate__animated animate__fadeIn",children:Object(c.jsxs)("div",{className:"pb-5 w-100",children:[Object(c.jsx)("div",{className:"perk-icon animate__animated animate__rotateIn",children:Object(c.jsx)(m.a,{icon:"trophy"})}),Object(c.jsxs)("h1",{className:"mb-5",children:[null===b||void 0===b?void 0:b.name," wins!"]}),Object(c.jsx)("button",{className:"btn btn-outline-light",onClick:function(){n([]),v.push("/home")},children:"Play again"})]})})]})}var I=function(e,t){return t?e.isRoundAndRoundWinner:e.isPlayersTurn},_=function(e){return e.map((function(e){return Object(o.a)(Object(o.a)({},e),{},{isRoundAndRoundWinner:!1})}))},E=function(e,t){var n=0,c=e.findIndex((function(e){return e.isPlayersTurn})),a=e.length-1;return n=1===t?c===a?0:c+t:0===c?a:c+t,e.map((function(e,t){return Object(o.a)(Object(o.a)({},e),{},{isPlayersTurn:n===t})}))},Q=function(e){return e.map((function(e){return e.isPlayersTurn?Object(o.a)(Object(o.a)({},e),{},{perks:Object.keys(e.perks).reduce((function(t,n){return e.perks[n]>0?Object(o.a)(Object(o.a)({},t),{},Object(N.a)({},n,e.perks[n]-1)):t}),Object(o.a)({},e.perks))}):e}))};n(84);function B(e){var t=e.currentPlayer,n=e.setCurrentCategory,s=e.categories,r=e.play,i=Object(a.useState)({id:0,identifier:"",name:""}),o=Object(l.a)(i,2),u=o[0],d=o[1],b=Object(j.d)();Object(a.useEffect)((function(){h()}),[]);var h=function(){if(!(t.perks.freedomOfChoice>0))var e,c=0,a=setInterval((function(){for(var t=Math.floor(Math.random()*s.length);t===e;)t=Math.floor(Math.random()*s.length);d(s[t]),e=t,15===++c&&(clearInterval(a),n(s[t]),setTimeout((function(){return b.push("/question")}),2e3)),r()}),200)};return Object(c.jsxs)("div",{className:"text-center",children:[Object(c.jsxs)("div",{className:"mb-4",children:[Object(c.jsx)("h1",{className:"mb-0 text-uppercase",children:t.name}),Object(c.jsxs)("div",{children:['"',t.description,'"']}),Object(c.jsxs)("div",{children:["(",t.points," points)"]}),t.perks.freedomOfChoice>0&&Object(c.jsxs)("div",{children:["Freedom Of Choice left: ",t.perks.freedomOfChoice]})]}),Object(c.jsx)("div",{className:"row",children:s.map((function(e,a){return Object(c.jsx)("div",{className:"col-6 p-1",children:Object(c.jsx)("div",{onClick:function(){return c=e,void(t.perks.freedomOfChoice>0&&(n(c),b.push("/question")));var c},className:"category text-center "+e.identifier+(e.name===(null===u||void 0===u?void 0:u.name)?" active":""),children:e.name})},a)}))})]})}n(85);function L(e){var t=e.currentPlayer,n=Object(j.d)();return Object(a.useEffect)((function(){setTimeout((function(){n.push(Math.random()<.25?"/perks":"/select-category")}),3e3)}),[]),Object(c.jsx)("div",{className:"show-turn-wrapper",children:Object(c.jsxs)("div",{className:"w-100",children:[Object(c.jsx)("h1",{className:"text-uppercase",children:t.name}),Object(c.jsxs)("h3",{children:['"',t.description,'"']}),Object(c.jsx)("hr",{}),Object(c.jsx)("h2",{children:"You're next!"})]})})}var z,F={id:null,question:"",answer:"",categoryId:0};function U(e){var t=e.categories,n=e.categoryId,s=e.setAllQuestions,r=e.showModal,i=e.setShowModal,u=e.question,d=Object(a.useState)(F),j=Object(l.a)(d,2),b=j[0],h=j[1],m=Object(a.useState)(!1),O=Object(l.a)(m,2),f=O[0],x=O[1];Object(a.useEffect)((function(){x(function(e){var t=e.categoryId,n=e.question,c=e.answer;return 0!==Number(t)&&!(n.length<10)&&0!==c.length}(b))}),[b]),Object(a.useEffect)((function(){h(u||Object(o.a)(Object(o.a)({},F),{},{categoryId:n}))}),[r,u]);var v=function(e){var t=e.name,n=e.value,c="categoryId"===t?Number(n):n;h(Object(o.a)(Object(o.a)({},b),{},Object(N.a)({},t,c)))};return Object(c.jsx)("div",{children:Object(c.jsxs)(g.a,{className:"text-dark",show:r,onHide:function(){return i(!1)},children:[Object(c.jsx)(g.a.Header,{closeButton:!0,children:Object(c.jsxs)(g.a.Title,{children:[u?"Edit ":"Add ","question"]})}),Object(c.jsxs)(g.a.Body,{children:[Object(c.jsx)("p",{children:"Select a category and fill out the form in order to submit a question. Your question will be reviewed by an administrator before it gets added to the app. Thanks for making the game better! <3"}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{children:"Category"}),Object(c.jsxs)("select",{className:"form-control",name:"categoryId",value:b.categoryId,onChange:function(e){return v(e.target)},children:[Object(c.jsx)("option",{value:"0",children:"Choose"}),t.map((function(e,t){return Object(c.jsx)("option",{value:e.id,children:e.name},t)}))]})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{children:"Question"}),Object(c.jsx)("textarea",{onChange:function(e){return v(e.target)},className:"form-control",name:"question",value:b.question,rows:2})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{children:"Image"}),Object(c.jsx)("div",{children:Object(c.jsx)("input",{type:"file",onChange:function(e){return t=e.target,void(z=t.files[0]);var t},name:"img"})})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{children:"Answer"}),Object(c.jsx)("input",{onChange:function(e){return v(e.target)},className:"form-control",name:"answer",value:b.answer})]})]}),Object(c.jsx)(g.a.Footer,{children:Object(c.jsxs)("button",{type:"button",className:"btn btn-primary",onClick:u?function(){p.saveQuestion(b).then((function(){s(b),h(Object(o.a)(Object(o.a)({},b),{},{question:"",answer:""})),i(!1)})).catch((function(e){return console.log(e)}))}:function(){p.addQuestion(b,z).then((function(){s(b),h(Object(o.a)(Object(o.a)({},b),{},{question:"",answer:""}))})).catch((function(e){return console.log(e)}))},disabled:!f,children:[u?"Save ":"Add ","question"]})})]})})}var D=function(e,t,n){return e.filter((function(e){var c,a;return((null===e||void 0===e||null===(c=e.question)||void 0===c?void 0:c.toLowerCase().includes(t))||(null===e||void 0===e||null===(a=e.answer)||void 0===a?void 0:a.toLowerCase().includes(t)))&&(0===n||(null===e||void 0===e?void 0:e.categoryId)===n)}))};function W(e){var t=e.categories,n=Object(a.useState)([]),s=Object(l.a)(n,2),r=s[0],i=s[1],o=Object(a.useState)([]),u=Object(l.a)(o,2),d=u[0],j=u[1],b=Object(a.useState)(""),m=Object(l.a)(b,2),O=m[0],f=m[1],x=Object(a.useState)(0),g=Object(l.a)(x,2),v=g[0],y=g[1],N=Object(a.useState)(!1),w=Object(l.a)(N,2),k=w[0],S=w[1],C=Object(a.useState)(void 0),P=Object(l.a)(C,2),T=P[0],M=P[1];Object(a.useEffect)((function(){p.getAllQuestions().then((function(e){i(e.data.questions),j(e.data.questions)}))}),[]);return Object(c.jsxs)("div",{children:[Object(c.jsx)("h1",{className:"mb-4",children:"Questions"}),Object(c.jsxs)("div",{className:"row mb-4",children:[Object(c.jsx)("div",{className:"col-12 col-sm-4",children:Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{children:"Category"}),Object(c.jsxs)("select",{className:"form-control",onChange:function(e){return function(e){y(Number(e)),j(D(r,O,Number(e)))}(e.target.value)},children:[Object(c.jsx)("option",{value:"0",children:"All categories"}),t.map((function(e){return Object(c.jsxs)("option",{value:e.id,children:[e.name," (",e.questions,")"]})}))]})]})}),Object(c.jsx)("div",{className:"col-12 col-sm-4",children:Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{children:"Filter term"}),Object(c.jsx)("input",{className:"form-control",onChange:function(e){return function(e){f(e.toLowerCase()),j(D(r,e.toLowerCase(),v))}(e.target.value)}})]})}),Object(c.jsx)("div",{className:"col-12 col-sm-4",children:Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{className:"d-none d-sm-block",children:"\xa0"}),Object(c.jsx)("button",{className:"btn btn-outline-light w-100",onClick:function(){M(void 0),S(!0)},children:"Add Question"})]})})]}),Object(c.jsxs)("p",{children:[d.length," questions"]}),d.length>0&&Object(c.jsxs)("table",{className:"table text-white table-dark table-hover",children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{children:"Question"}),Object(c.jsx)("th",{children:"Answer"}),Object(c.jsx)("th",{children:"Tags"})]})}),Object(c.jsx)("tbody",{children:d.map((function(e){return Object(c.jsxs)("tr",{className:"clickable",onClick:function(){return function(e){M(e),S(!0)}(e)},children:[Object(c.jsx)("td",{children:e.question}),Object(c.jsx)("td",{children:e.answer}),Object(c.jsx)("td",{children:e.tags})]})}))})]}),Object(c.jsx)(U,{categoryId:v,categories:t,question:T,showModal:k,setShowModal:S,setAllQuestions:function(e){var t=[].concat(Object(h.a)(r),[e]);i(t)}})]})}var G=n.p+"static/media/robots.8d72ac60.mp3",H=n.p+"static/media/button.6be18c19.mp3",Y=n.p+"static/media/goodPerk.48ebac9f.mp3",J=n(19),K=n.n(J);function X(){var e=Object(a.useState)({username:"",email:"",password:"",passwordRepeat:""}),t=Object(l.a)(e,2),n=t[0],s=t[1],r=Object(a.useState)(!1),i=Object(l.a)(r,2),u=i[0],d=i[1],j=Object(a.useState)(""),b=Object(l.a)(j,2),h=b[0],m=b[1],O=K.a.object({username:K.a.string().max(50).required(),password:K.a.string().min(6).max(50).required(),email:K.a.string().required().email({tlds:!1}),passwordRepeat:K.a.ref("password")}),f=function(e){var t=e.name,c=e.value,a=Object(o.a)(Object(o.a)({},n),{},Object(N.a)({},t,c));s(a)};return Object(c.jsxs)("div",{children:[Object(c.jsx)("button",{className:"btn btn-outline-light w-100",onClick:function(){d(!0)},children:"Register"}),Object(c.jsxs)(g.a,{className:"text-dark",show:u,onHide:function(){d(!1)},children:[Object(c.jsx)(g.a.Header,{closeButton:!0,children:Object(c.jsx)(g.a.Title,{children:"Register"})}),Object(c.jsxs)(g.a.Body,{children:[Object(c.jsx)("p",{children:"Fill out the form and click on Register. A confirmation will be sent to your email."}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{children:"Username"}),Object(c.jsx)("input",{onChange:function(e){return f(e.target)},className:"form-control",name:"username",value:n.username})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{children:"Email"}),Object(c.jsx)("input",{onChange:function(e){return f(e.target)},className:"form-control",name:"email",value:n.email})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{children:"Password"}),Object(c.jsx)("input",{type:"password",onChange:function(e){return f(e.target)},className:"form-control",name:"password",value:n.password})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{children:"Repeat password"}),Object(c.jsx)("input",{type:"password",onChange:function(e){return f(e.target)},className:"form-control",name:"passwordRepeat",value:n.passwordRepeat})]}),h.length>0&&Object(c.jsx)("div",{className:"alert alert-danger alert-icon",children:h})]}),Object(c.jsx)(g.a.Footer,{children:Object(c.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){var e=O.validate(n).error;e?m(e.message):p.addUser(n).then((function(){return"user added!"})).catch((function(e){return console.log(e)}))},children:"Register"})})]})]})}function V(e){var t=e.setUser,n=Object(a.useState)({username:"",password:""}),s=Object(l.a)(n,2),r=s[0],i=s[1],u=Object(a.useState)(""),d=Object(l.a)(u,2),b=d[0],h=d[1],m=Object(j.d)(),O=function(e){var t=e.name,n=e.value;i(Object(o.a)(Object(o.a)({},r),{},Object(N.a)({},t,n)))};return Object(c.jsx)("div",{children:Object(c.jsx)("div",{className:"row justify-content-center animate__animated animate__fadeIn",children:Object(c.jsxs)("div",{className:"col-12 col-sm-6 col-md-4 pt-0 pt-sm-5",children:[Object(c.jsx)("h1",{children:"Login"}),Object(c.jsx)("p",{children:"Login below to start playing Quizmageddon!"}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{children:"Username"}),Object(c.jsx)("input",{className:"form-control username",name:"username",onChange:function(e){return O(e.target)}})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{children:"Password"}),Object(c.jsx)("input",{type:"password",name:"password",className:"form-control password",onChange:function(e){return O(e.target)}})]}),b&&Object(c.jsx)("div",{className:"alert alert-danger animate__animated animate__flash",children:b}),Object(c.jsx)("hr",{}),Object(c.jsx)("button",{className:"btn btn-secondary w-100 mb-4",onClick:function(){p.login(r).then((function(e){t(e.data),localStorage.setItem("accessToken",e.data.accessToken),m.push("/home")})).catch((function(e){return h(e.response.data)}))},children:"Login"}),Object(c.jsx)(X,{})]})})})}u.b.add(d.g,d.a,d.i,d.e,d.c,d.f,d.d,d.h,d.b);var Z=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],s=t[1],r=Object(a.useState)({pointsToWin:10,probRoundAndRound:.05,probPerk:.2,probPlayerPerk:.6,imgBaseUrl:"https://leds3aws.s3.eu-north-1.amazonaws.com/images/"}),i=Object(l.a)(r,2),u=i[0],d=(i[1],Object(a.useState)({})),h=Object(l.a)(d,2),m=h[0],O=h[1],f=Object(a.useState)([]),p=Object(l.a)(f,2),g=p[0],v=p[1],N=Object(a.useState)({}),w=Object(l.a)(N,2),k=w[0],C=w[1],P=Object(a.useState)({}),T=Object(l.a)(P,2),M=T[0],I=T[1],_=Object(a.useState)(1),E=Object(l.a)(_,2),Q=E[0],z=E[1],F=Object(a.useState)({}),U=Object(l.a)(F,2),D=U[0],J=U[1],K=Object(a.useState)(!1),X=Object(l.a)(K,2),Z=X[0],$=X[1],ee=Object(b.a)(G,{volume:.25}),te=Object(l.a)(ee,1)[0],ne=Object(b.a)(H,{volume:.25}),ce=Object(l.a)(ne,1)[0],ae=Object(b.a)(Y,{volume:.25}),se=Object(l.a)(ae,1)[0];return Object(c.jsx)("div",{className:"App",onClick:function(e){return console.log(e.target)},children:Object(c.jsx)(j.a,{children:Object(c.jsxs)(j.c,{children:[Object(c.jsx)(j.b,{exact:!0,path:"/",children:Object(c.jsx)(V,{setUser:J})}),Object(c.jsx)(j.b,{path:"/home",children:Object(c.jsx)(y,{categories:g,user:D,settings:u,setCategories:v,setQuestions:O,setThemes:I})}),Object(c.jsx)(j.b,{path:"/add-players",children:Object(c.jsx)(x,{players:n,playBtnSound:ce,setPlayers:s})}),Object(c.jsx)(j.b,{path:"/show-turn",children:Object(c.jsx)(L,{currentPlayer:n.filter((function(e){return e.isPlayersTurn}))[0]})}),Object(c.jsx)(j.b,{path:"/perks",children:Object(c.jsx)(S,{players:n,playGoodPerkSound:se,setPlayers:s,setDirection:function(){return z(-1*Q)}})}),Object(c.jsx)(j.b,{path:"/round-and-round",children:Object(c.jsx)(R,{players:n,themes:M,playGoodPerkSound:se,playBtnSound:ce,setPlayers:s})}),Object(c.jsx)(j.b,{path:"/select-category",children:Object(c.jsx)(B,{currentPlayer:n.filter((function(e){return e.isPlayersTurn}))[0],categories:g.filter((function(e){return!e.disabled})),play:te,setCurrentCategory:function(e){var t=m.filter((function(t){return t.categoryId===e.id})),n=t.length,c=t[Math.floor(Math.random()*n)];O(m.filter((function(e){return e.id!==c.id}))),C(Object(o.a)(Object(o.a)({},c),{},{category:e.identifier}))}})}),Object(c.jsx)(j.b,{path:"/question",children:Object(c.jsx)(q,{currentPlayer:n.filter((function(e){return e.isPlayersTurn}))[0],currentQuestion:k,players:n,settings:u,playBtnSound:ce,setPlayers:s})}),Object(c.jsx)(j.b,{path:"/scoreboard",children:Object(c.jsx)(A,{direction:Q,players:n,setPlayers:s,isRoundAndRound:Z,setIsRoundAndRound:$,playGoodPerkSound:se})}),Object(c.jsx)(j.b,{path:"/admin/questions",children:Object(c.jsx)(W,{categories:g})})]})})})},$=function(e){e&&e instanceof Function&&n.e(4).then(n.bind(null,111)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),s(e),r(e)}))};i.a.render(Object(c.jsx)(s.a.StrictMode,{children:Object(c.jsx)(Z,{})}),document.getElementById("root")),$()},53:function(e,t,n){},56:function(e,t,n){},76:function(e,t,n){},80:function(e,t,n){},81:function(e,t,n){},82:function(e,t,n){},83:function(e,t,n){},84:function(e,t,n){},85:function(e,t,n){}},[[107,1,2]]]);
//# sourceMappingURL=main.195f786f.chunk.js.map