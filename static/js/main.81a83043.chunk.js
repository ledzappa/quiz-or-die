(this.webpackJsonpquizmageddon=this.webpackJsonpquizmageddon||[]).push([[0],{102:function(e,t,n){},103:function(e,t,n){},104:function(e,t,n){},105:function(e,t,n){},106:function(e,t,n){},107:function(e,t,n){},108:function(e,t,n){},109:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(1),s=n.n(a),r=n(17),i=n.n(r),o=(n(51),n(52),n(53),n(2)),l=n(3),u=n(18),d=n(13),j=n(112),b=n(19),m=(n(56),n(10)),h=n(9),O=n(15),p=n.n(O),f={getCategories:function(){return p.a.get("mocks/categories.json")},getPlayerDescriptionWords:function(){return p.a.get("mocks/playerDescriptionWords.json")},getQuestions:function(){return p.a.get("mocks/questions.json",{headers:{authorization:"Bearer "+localStorage.getItem("accessToken")}})},getAllQuestions:function(){return p.a.get("mocks/questions.json",{headers:{authorization:"Bearer "+localStorage.getItem("accessToken")}})},getRoundAndRoundThemes:function(){return p.a.get("mocks/roundAndRound.json")},addQuestion:function(e,t){console.log(t);var n=new FormData;return Object.keys(e).forEach((function(t){return n.append(t,e[t])})),t&&n.append("img",t,"img.jpg"),fetch("/api/questions",{method:"POST",body:n})},saveQuestion:function(e){return p.a.put("/api/questions",e)},deleteQuestion:function(e){return p.a.delete("/api/questions",e)},addUser:function(e){return p.a.post("/api/users",e)},login:function(e){return p.a.get("mocks/login.json")}};n(76);function x(e){var t=e.players,n=e.setPlayers,s=e.playBtnSound,r=Object(a.useState)(""),i=Object(l.a)(r,2),u=i[0],d=i[1],b=Object(a.useState)({nouns:[],adjectives:[]}),O=Object(l.a)(b,2),p=O[0],x=O[1],g=Object(j.d)();Object(a.useEffect)((function(){f.getPlayerDescriptionWords().then((function(e){return x(e.data)}))}),[]);var v=function(e){n([].concat(Object(m.a)(t),[{name:e,description:N(),points:0,isPlayersTurn:!1,isMiniGameWinner:!1,perks:{freedomOfChoice:0,doubleUp:0}}])),d("")},y=function(){!function(){var e=Math.floor(Math.random()*t.length);n(t.map((function(t,n){return e===n?Object(o.a)(Object(o.a)({},t),{},{isPlayersTurn:!0}):t})))}(),s(),g.push("/show-turn")},N=function(){var e=p.nouns.length,t=Math.floor(Math.random()*e),n=p.nouns[t],c=p.adjectives.length,a=Math.floor(Math.random()*c),s=p.adjectives[a];return"The ".concat(s," ").concat(n)};return Object(c.jsx)("div",{className:"row justify-content-center",children:Object(c.jsxs)("div",{className:"col-12 col-sm-6 col-lg-6 col-xl-4",children:[Object(c.jsx)("h2",{children:"Add players"}),Object(c.jsx)("p",{children:'Enter a name and press enter or the "Add" button.'}),Object(c.jsx)("label",{children:"Name"}),Object(c.jsxs)("div",{className:"input-group mb-3",children:[Object(c.jsx)("input",{type:"text",className:"form-control add-player",value:u,autoFocus:!0,onKeyPress:function(e){return"Enter"===e.key&&v(u)},onChange:function(e){return t=e.target.value,d(t);var t}}),Object(c.jsx)("button",{className:"btn btn-primary",onClick:function(){return v(u)},children:Object(c.jsx)(h.a,{icon:"plus"})})]}),t.map((function(e,a){return Object(c.jsxs)("div",{className:"added-player-wrapper",children:[Object(c.jsxs)("div",{className:"d-inline-block",onClick:function(){return c=e.name,void n(t.map((function(e){return e.name===c?Object(o.a)(Object(o.a)({},e),{},{description:N()}):e})));var c},children:[Object(c.jsx)("span",{className:"font-weight-bold text-uppercase",children:e.name})," ",Object(c.jsx)("div",{children:e.description})]}),Object(c.jsx)(h.a,{className:"ml-3 float-right",icon:"times",onClick:function(){return function(e){n(t.filter((function(t,n){return e!==n})))}(a)}})]},a)})),Object(c.jsx)("hr",{}),Object(c.jsx)("button",{className:"btn btn-primary w-100 start-game",onClick:function(){return y()},disabled:t.length<2,children:"Start Game!"})]})})}var g=n(7);function v(e){var t=e.categories,n=e.showModal,s=e.settings,r=e.setCategories,i=e.setShowModal,u=e.setSettings,d=Object(a.useState)([{id:"roundAndRound",name:"Round and Round"},{id:"triggerFinger",name:"Trigger Finger"},{id:"closestWins",name:"Closest Wins"}]),j=Object(l.a)(d,2),b=j[0],h=(j[1],function(){i(!1)}),O=function(e){var n=e.target,c=n.checked,a=n.name,s=t.map((function(e){return e.id===Number(a)?Object(o.a)(Object(o.a)({},e),{},{disabled:!c}):e}));r(s)},p=function(e){var t=e.target,n=t.checked,c=t.name;u(Object(o.a)(Object(o.a)({},s),{},{enabledMiniGames:n?[].concat(Object(m.a)(s.enabledMiniGames),[c]):s.enabledMiniGames.filter((function(e){return e!==c}))}))};return Object(c.jsxs)(g.a,{className:"text-dark",show:n,onHide:h,children:[Object(c.jsx)(g.a.Header,{closeButton:!0,children:Object(c.jsx)(g.a.Title,{children:"Settings"})}),Object(c.jsxs)(g.a.Body,{children:[Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("h4",{children:"Points to Win"}),Object(c.jsx)("p",{children:"Points required to win the game."}),Object(c.jsxs)("select",{className:"form-control",value:s.pointsToWin,onChange:function(e){var t=e.target.value;u(Object(o.a)(Object(o.a)({},s),{},{pointsToWin:Number(t)}))},children:[Object(c.jsx)("option",{value:"5",children:"5"}),Object(c.jsx)("option",{value:"10",children:"10"}),Object(c.jsx)("option",{value:"15",children:"15"}),Object(c.jsx)("option",{value:"20",children:"20"}),Object(c.jsx)("option",{value:"25",children:"25"}),Object(c.jsx)("option",{value:"30",children:"30"}),Object(c.jsx)("option",{value:"35",children:"35"}),Object(c.jsx)("option",{value:"40",children:"40"}),Object(c.jsx)("option",{value:"45",children:"45"}),Object(c.jsx)("option",{value:"50",children:"50"})]})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("h4",{children:"Enabled Categories"}),t.map((function(e,t){return Object(c.jsxs)("div",{className:"form-check",children:[Object(c.jsx)("input",{className:"form-check-input",type:"checkbox",name:e.id.toString(),checked:!e.disabled,onChange:O}),Object(c.jsx)("label",{className:"form-check-label",children:e.name})]},t)}))]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("h4",{children:"Enabled Minigames"}),b.map((function(e,t){return Object(c.jsxs)("div",{className:"form-check",children:[Object(c.jsx)("input",{className:"form-check-input",type:"checkbox",name:e.id,checked:s.enabledMiniGames.includes(e.id),onChange:p}),Object(c.jsx)("label",{className:"form-check-label",children:e.name})]},t)}))]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("h4",{children:"Minigame probability"}),Object(c.jsx)("input",{className:"form-control",type:"number",max:"0.95",min:"0.1",step:"0.05",value:s.probMiniGame,onChange:function(e){var t=e.target.value;u(Object(o.a)(Object(o.a)({},s),{},{probMiniGame:t}))}})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("h4",{children:"Politically correct mode"}),Object(c.jsx)("p",{children:'When activated, R-rated words (such as f***ing) are removed from player descriptions, and adult oriented questions (such as "What was Ron Jeremys signature trait?") are removed.'}),Object(c.jsx)("button",{className:"btn btn-"+(s.politicallyCorrect?"success":"secondary"),onClick:function(){u(Object(o.a)(Object(o.a)({},s),{},{politicallyCorrect:!s.politicallyCorrect}))},children:s.politicallyCorrect?"ON":"OFF"})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("h4",{children:"Color theme"}),Object(c.jsx)("p",{children:"Enable light mode"}),Object(c.jsx)("button",{className:"btn btn-"+(s.lightMode?"success":"secondary"),onClick:function(){u(Object(o.a)(Object(o.a)({},s),{},{lightMode:!s.lightMode}))},children:s.lightMode?"ON":"OFF"})]})]}),Object(c.jsx)(g.a.Footer,{children:Object(c.jsx)("button",{type:"button",className:"btn btn-primary",onClick:h,children:"Close"})})]})}n(80);function y(e){var t=e.categories,n=e.settings,s=e.setCategories,r=e.setQuestions,i=e.setThemes,u=e.setSettings,d=e.user,b=Object(j.d)(),m=Object(a.useState)(!1),O=Object(l.a)(m,2),p=O[0],x=O[1];Object(a.useEffect)((function(){f.getCategories().then((function(e){s(e.data.categories)})),f.getQuestions().then((function(e){var t=e.data.questions.map((function(e){return Object(o.a)(Object(o.a)({},e),{},{img:e.img?n.imgBaseUrl+e.img:null})})),c=t.filter((function(e){return!!e.img})).map((function(e){return e.img}));g(c),r(t)})),f.getRoundAndRoundThemes().then((function(e){i(e.data.themes)}))}),[]);var g=function(e){e.forEach((function(e){(new Image).src=e}))};return Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{className:"row",children:Object(c.jsx)("div",{className:"col-12 text-right",children:0===d.roleId&&Object(c.jsxs)("button",{className:"btn btn-secondary",onClick:function(){return b.push("/admin/questions")},children:[Object(c.jsx)(h.a,{className:"mr-2",icon:"tools"}),"Admin"]})})}),Object(c.jsxs)("div",{className:"text-center",children:[Object(c.jsx)("h1",{children:"Quizmageddon"}),Object(c.jsx)("p",{className:"mb-5",children:"Welcome to quizmageddon - the best quiz game ever created by men. Start the game by adding players!"}),Object(c.jsx)("div",{className:"row justify-content-center",children:Object(c.jsx)("div",{className:"col-12 text-center",children:Object(c.jsxs)("div",{className:"button-container d-inline-block",children:[Object(c.jsxs)("button",{className:"btn btn-primary play-quizmageddon mb-3 w-100 btn-lg",onClick:function(){return b.push("/add-players")},children:[Object(c.jsx)(h.a,{className:"mr-2",icon:"play"}),"Play Quizmageddon"]}),Object(c.jsxs)("button",{className:"btn btn-secondary w-100 btn-lg",onClick:function(){x(!0)},children:[Object(c.jsx)(h.a,{className:"mr-2",icon:"cog"}),"Settings"]})]})})})]}),Object(c.jsx)(v,{categories:t,setCategories:s,showModal:p,settings:n,setSettings:u,setShowModal:x})]})}var N=n(14),w=n(20),k=n.n(w);function S(){var e=Object(a.useState)({username:"",email:"",password:"",passwordRepeat:""}),t=Object(l.a)(e,2),n=t[0],s=t[1],r=Object(a.useState)(!1),i=Object(l.a)(r,2),u=i[0],d=i[1],j=Object(a.useState)(""),b=Object(l.a)(j,2),m=b[0],h=b[1],O=k.a.object({username:k.a.string().max(50).required(),password:k.a.string().min(6).max(50).required(),email:k.a.string().required().email({tlds:!1}),passwordRepeat:k.a.ref("password")}),p=function(e){var t=e.name,c=e.value,a=Object(o.a)(Object(o.a)({},n),{},Object(N.a)({},t,c));s(a)};return Object(c.jsxs)("div",{children:[Object(c.jsx)("button",{className:"btn btn-outline-light w-100",onClick:function(){d(!0)},children:"Register"}),Object(c.jsxs)(g.a,{className:"text-dark",show:u,onHide:function(){d(!1)},children:[Object(c.jsx)(g.a.Header,{closeButton:!0,children:Object(c.jsx)(g.a.Title,{children:"Register"})}),Object(c.jsxs)(g.a.Body,{children:[Object(c.jsx)("p",{children:"Fill out the form and click on Register. A confirmation will be sent to your email."}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{children:"Username"}),Object(c.jsx)("input",{onChange:function(e){return p(e.target)},className:"form-control",name:"username",value:n.username})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{children:"Email"}),Object(c.jsx)("input",{onChange:function(e){return p(e.target)},className:"form-control",name:"email",value:n.email})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{children:"Password"}),Object(c.jsx)("input",{type:"password",onChange:function(e){return p(e.target)},className:"form-control",name:"password",value:n.password})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{children:"Repeat password"}),Object(c.jsx)("input",{type:"password",onChange:function(e){return p(e.target)},className:"form-control",name:"passwordRepeat",value:n.passwordRepeat})]}),m.length>0&&Object(c.jsx)("div",{className:"alert alert-danger alert-icon",children:m})]}),Object(c.jsx)(g.a.Footer,{children:Object(c.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){var e=O.validate(n).error;e?h(e.message):f.addUser(n).then((function(){return"user added!"})).catch((function(e){return console.log(e)}))},children:"Register"})})]})]})}function C(e){var t=e.setUser,n=Object(a.useState)({username:"",password:""}),s=Object(l.a)(n,2),r=s[0],i=s[1],u=Object(a.useState)(""),d=Object(l.a)(u,2),b=d[0],m=d[1],h=Object(j.d)(),O=function(e){var t=e.name,n=e.value;i(Object(o.a)(Object(o.a)({},r),{},Object(N.a)({},t,n)))};return Object(c.jsx)("div",{children:Object(c.jsx)("div",{className:"row justify-content-center animate__animated animate__fadeIn",children:Object(c.jsxs)("div",{className:"col-12 col-sm-6 col-md-4 pt-0 pt-sm-5",children:[Object(c.jsx)("h1",{children:"Login"}),Object(c.jsx)("p",{children:"Login below to start playing Quizmageddon!"}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{children:"Username"}),Object(c.jsx)("input",{className:"form-control username",name:"username",onChange:function(e){return O(e.target)}})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{children:"Password"}),Object(c.jsx)("input",{type:"password",name:"password",className:"form-control password",onChange:function(e){return O(e.target)}})]}),b&&Object(c.jsx)("div",{className:"alert alert-danger animate__animated animate__flash",children:b}),Object(c.jsx)("hr",{}),Object(c.jsx)("button",{className:"btn btn-secondary w-100 mb-4",onClick:function(){f.login(r).then((function(e){t(e.data),localStorage.setItem("accessToken",e.data.accessToken),h.push("/home")})).catch((function(e){return m(e.response.data)}))},children:"Login"}),Object(c.jsx)(S,{})]})})})}n(102);function T(e){var t,n,s=e.themes,r=e.players,i=e.setPlayers,u=e.playGoodPerkSound,d=e.playBtnSound,b=Object(a.useState)({description:"",randomizeLetter:!1}),m=Object(l.a)(b,2),h=m[0],O=m[1],p=Object(a.useState)(!1),f=Object(l.a)(p,2),x=f[0],g=f[1],v=Object(a.useState)(!1),y=Object(l.a)(v,2),N=y[0],w=y[1],k=Object(a.useState)(10),S=Object(l.a)(k,2),C=S[0],T=S[1],M=Object(a.useState)(null),P=Object(l.a)(M,2),q=P[0],E=P[1],I=Object(a.useState)(""),_=Object(l.a)(I,2),G=_[0],A=_[1],R=Object(a.useState)(r),L=Object(l.a)(R,2),Q=L[0],W=L[1],B=Object(j.d)();Object(a.useEffect)((function(){u(),O(s[Math.floor(s.length*Math.random())]),A(F())}),[]),Object(a.useEffect)((function(){N&&z()}),[C]);var F=function(){var e="abcdefghijklmnoprstuvy".split("");return e[Math.floor(Math.random()*e.length)]},z=function(){E(setTimeout((function(){C>1?T(C-1):D(!0)}),1e3))},D=function(e){d(),clearTimeout(q);var t=Q.filter((function(t){return!e||!t.isPlayersTurn}));1===t.length&&(i(r.map((function(e){return e.name===t[0].name?Object(o.a)(Object(o.a)({},e),{},{points:e.points+2,isMiniGameWinner:!0}):e}))),setTimeout((function(){return B.push("/scoreboard")}),3e3));var n=t.findIndex((function(e){return e.isPlayersTurn})),c=n===t.length-1?0:n+1;W(t.map((function(e,t){return Object(o.a)(Object(o.a)({},e),{},{isPlayersTurn:c===t})}))),t.length>1&&T(10)},U=1===Q.length;return Object(c.jsxs)("div",{children:[Object(c.jsxs)("div",{className:"round-and-round animate__animated animate__rotateIn",children:[Object(c.jsx)("h1",{children:"It's Round and round time!"}),Object(c.jsx)("p",{children:'Everyone gets 10 seconds to come up with an answer for a random theme, for example "Name a movie from the 90s". Press NEXT when a player answers successfully and the turn will go to the next player. If a player can\'t come up with an answer within 10 seconds the player gets eliminated. The last player that remains gets 3 points!'}),Object(c.jsx)("button",{className:"btn btn-secondary",onClick:function(){return d(),void g(!0)},children:"Show theme and begin!"})]}),x&&Object(c.jsxs)("div",{className:"theme-wrapper",children:[Object(c.jsxs)("h3",{children:[h.description," ",h.randomizeLetter&&Object(c.jsx)("span",{className:"font-weight-bold",children:G.toLocaleUpperCase()})]}),Object(c.jsx)("hr",{}),N?Object(c.jsx)("div",{children:U?Object(c.jsx)("h2",{children:(null===(n=Q[0])||void 0===n?void 0:n.name)+" wins!"}):Object(c.jsxs)("button",{className:"btn btn-primary btn-next w-100 p-4 mt-4",onClick:function(){return D(!1)},disabled:!(C<10),children:[Object(c.jsx)("h1",{className:"text-uppercase",children:null===(t=Q.filter((function(e){return e.isPlayersTurn}))[0])||void 0===t?void 0:t.name}),Object(c.jsx)("h3",{children:C})]})}):Object(c.jsx)("button",{className:"btn btn-secondary",onClick:function(){return d(),w(!0),void z()},children:"Start!"})]})]})}n(103);function M(e){var t=e.players,n=e.setPlayers,s=e.playGoodPerkSound,r=e.playTriggerSound,i=e.playTooEarlySound,u=e.playCountdownSound,d=e.playBtnSound,b=Object(a.useState)(!1),m=Object(l.a)(b,2),h=m[0],O=m[1],p=Object(a.useState)(t.map((function(e){return Object(o.a)(Object(o.a)({},e),{},{reactionTime:0,isEliminated:!1})}))),f=Object(l.a)(p,2),x=f[0],g=f[1],v=Object(a.useState)(!1),y=Object(l.a)(v,2),N=y[0],w=y[1],k=Object(a.useState)(!1),S=Object(l.a)(k,2),C=S[0],T=S[1],M=Object(a.useState)(0),P=Object(l.a)(M,2),q=P[0],E=P[1],I=Object(a.useState)(null),_=Object(l.a)(I,2),G=_[0],A=_[1],R=Object(a.useState)(),L=Object(l.a)(R,2),Q=L[0],W=L[1],B=Object(a.useState)(),F=Object(l.a)(B,2),z=F[0],D=F[1],U=Object(a.useState)(),Y=Object(l.a)(U,2),H=Y[0],J=Y[1],K=Object(a.useState)(1e6),X=Object(l.a)(K,2),V=X[0],Z=X[1],$=Object(j.d)();Object(a.useEffect)((function(){s(),O(!1),ne()}),[]),Object(a.useEffect)((function(){h&&(ee(),q>Q&&!N&&(w(!0),clearInterval(H),D(Date.now()),clearTimeout(G)))}),[q,h,N,Q]);var ee=function(){A(setTimeout((function(){E(q+10)}),10))},te=function(){return J(setInterval((function(){return u()}),750))},ne=function(){var e=Math.floor(10*Math.random()*1e3)+4e3;w(!1),W(e),D(void 0),E(1),T(!1)},ce=x.filter((function(e){return e.isPlayersTurn}))[0];return Object(c.jsxs)("div",{children:[Object(c.jsxs)("div",{className:"round-and-round animate__animated animate__rotateIn",children:[Object(c.jsx)("h1",{children:"Trigger finger!"}),Object(c.jsx)("p",{children:"Press the button as soon as it turns to green. The fastest player gets one point!"}),Object(c.jsx)("button",{className:"btn btn-secondary",onClick:function(){return d(),O(!0),E(1),void te()},children:"Let's go!"})]}),h&&Object(c.jsxs)("div",{className:"theme-wrapper",children:[Object(c.jsx)("h3",{children:"Trigger finger!"}),!C&&Object(c.jsx)("h4",{children:"Press the button when it turns red"}),Object(c.jsx)("hr",{}),C?Object(c.jsxs)("div",{children:[Object(c.jsxs)("h3",{children:[ce.name," triggered in: "]}),Object(c.jsxs)("h1",{onClick:function(){return console.log(x)},children:[ce.reactionTime,"ms"]}),Object(c.jsx)("h1",{children:ce.reactionTime>0?ce.isEliminated?"TOO SLOW :(":"YOU ARE IN THE LEAD!":"TOO EARLY! :("}),Object(c.jsx)("button",{className:"btn btn-primary",onClick:function(){return function(){d();var e=x.filter((function(e){return!e.isEliminated}));if(1===e.length)n(t.map((function(t){return t.name===e[0].name?Object(o.a)(Object(o.a)({},t),{},{points:t.points+2,isMiniGameWinner:!0}):t}))),$.push("/scoreboard");else{ne(),te();var c=x.findIndex((function(e){return e.isPlayersTurn})),a=c===x.length-1?0:c+1;g(x.map((function(e,t){return Object(o.a)(Object(o.a)({},e),{},{isPlayersTurn:a===t})})))}}()},children:"Next"})]}):Object(c.jsx)("button",{className:"btn btn-trigger w-100 btn-".concat(N?"danger":"primary"),onClick:function(){clearInterval(H),T(!0);var e=Date.now()-z,t=-1===(e=Number.isNaN(e)?-1:e),n=e>0&&e<V;n?(r(),Z(e)):i(),g(x.map((function(c){return c.isPlayersTurn?Object(o.a)(Object(o.a)({},c),{},{reactionTime:e,isEliminated:!n||t}):Object(o.a)(Object(o.a)({},c),{},{isEliminated:c.isEliminated||-1!==e&&c.reactionTime>e})}))),clearTimeout(G)},children:N?"TRIGGER!!!":"Wait for it ".concat(ce.name.toUpperCase(),"...")})]})]})}n(104);var P=[{id:"double-up",name:"Double up!",description:"Yay! You get 2 points for a correct answer on the next question.",icon:"angle-double-up"},{id:"freedom-of-choice",name:"Freedom of choice!",description:"Choose your category for the next 3 rounds.",icon:"hand-sparkles"},{id:"landmine",name:"Landmine!",description:"BOOM! You lose 1 point if you answer wrong.",icon:"bomb"}],q=[{id:"robin-hood",name:"Robin Hood",description:"#generated#"},{id:"change-direction",name:"Direction change!",description:"The direction changes after this turn.",icon:"sync"}];function E(e){var t=e.setDirection,n=e.setPlayers,s=e.settings,r=e.players,i=e.playGoodPerkSound,u=Object(a.useState)({id:"",name:"",description:"",icon:""}),d=Object(l.a)(u,2),b=d[0],m=d[1],O=Object(j.d)();Object(a.useEffect)((function(){p()}),[]);var p=function e(){var t=Math.random()<s.probPlayerPerk?P:q,n=t[Math.floor(t.length*Math.random())];("robin-hood"!==n.id||_(r))&&("change-direction"!==n.id||I(r))?(m(n),i()):e()},f=function(e,t){n(r.map((function(n){return n.isPlayersTurn?Object(o.a)(Object(o.a)({},n),{},{perks:Object(o.a)(Object(o.a)({},n.perks),{},Object(N.a)({},e,t))}):n})))};return Object(c.jsx)("div",{id:b.id,className:"perk-wrapper text-center",children:Object(c.jsxs)("div",{className:"pb-5 w-100",children:[Object(c.jsx)("div",{className:"perk-icon animate__animated animate__rotateIn",children:Object(c.jsx)(h.a,{icon:b.icon})}),Object(c.jsx)("h1",{children:b.name}),Object(c.jsx)("p",{children:"robin-hood"===b.id?G(r):b.description}),Object(c.jsx)("button",{className:"btn btn-secondary",onClick:function(){!function(e){switch(e){case"change-direction":t();break;case"freedom-of-choice":f("freedomOfChoice",3);break;case"double-up":f("doubleUp",1);break;case"robin-hood":n(A(r));break;case"landmine":f("landmine",1)}}(b.id),O.push("/select-category")},children:"Continue"})]})})}var I=function(e){return e.length>=3},_=function(e){var t=Math.max.apply(Math,Object(m.a)(e.map((function(e){return e.points})))),n=Math.min.apply(Math,Object(m.a)(e.map((function(e){return e.points})))),c=1===e.filter((function(e){return e.points===t})).length&&1===e.filter((function(e){return e.points===n})).length;return t!==n&&c},G=function(e){var t=Math.max.apply(Math,Object(m.a)(e.map((function(e){return e.points})))),n=Math.min.apply(Math,Object(m.a)(e.map((function(e){return e.points})))),c=e.filter((function(e){return e.points===t}))[0].name,a=e.filter((function(e){return e.points===n}))[0].name;return"".concat(c," generously donates 1 point to ").concat(a)},A=function(e){var t=Math.max.apply(Math,Object(m.a)(e.map((function(e){return e.points})))),n=Math.min.apply(Math,Object(m.a)(e.map((function(e){return e.points}))));return e.map((function(e){return e.points===n?Object(o.a)(Object(o.a)({},e),{},{points:e.points+1}):e.points===t?Object(o.a)(Object(o.a)({},e),{},{points:e.points-1}):e}))};n(105);function R(e){var t=e.currentQuestion,n=e.currentPlayer,s=e.players,r=e.setPlayers,i=e.playBtnSound,u=Object(a.useState)(!1),d=Object(l.a)(u,2),b=d[0],m=d[1],O=Object(a.useState)(30),p=Object(l.a)(O,2),f=p[0],x=p[1],g=Object(a.useState)(),v=Object(l.a)(g,2),y=v[0],N=v[1],w=Object(j.d)();Object(a.useEffect)((function(){k()}),[f,b]);var k=function(){b?clearTimeout(y):N(setTimeout((function(){f>0?x(f-1):(S(),clearTimeout(y))}),1e3))},S=function(){setTimeout((function(){return w.push("/scoreboard")}),2e3)},C=function(e,t){return e.map((function(e){return e.isPlayersTurn?Object(o.a)(Object(o.a)({},e),{},{points:Math.max(0,e.points+t)}):e}))};return Object(c.jsxs)("div",{children:[Object(c.jsxs)("div",{className:"mb-4",children:[Object(c.jsx)("div",{className:"text-uppercase",children:n.name}),Object(c.jsx)("h1",{className:"text-capitalize",children:t.category}),Object(c.jsx)("p",{children:function(e){if(e.includes("#ALT#")){var t=e.replace("#ALTEND#","").split("#ALT#"),n=t[1].split(";;"),c=n.pop(),a="".concat(n.join(", ")," or ").concat(c,"?");return t[0]+a}return e}(t.question)}),t.img&&Object(c.jsx)("div",{className:"text-center",children:Object(c.jsx)("img",{src:t.img})})]}),b?Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{className:"font-weight-bold",children:"Answer:"}),Object(c.jsx)("p",{children:t.answer}),Object(c.jsx)("hr",{}),Object(c.jsx)("div",{className:"mb-3",children:"Did you get it?"}),Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col-6",children:Object(c.jsxs)("button",{className:"btn btn-success w-100 p-3 font-weight-bold yes-button",onClick:function(){return function(){var e=n.perks.doubleUp>0?2:1,t=C(s,e);r(t),i(),w.push("/scoreboard")}()},children:[Object(c.jsx)(h.a,{icon:"check"}),"\xa0\xa0Yes"]})}),Object(c.jsx)("div",{className:"col-6",children:Object(c.jsxs)("button",{className:"btn btn-danger w-100 p-3 font-weight-bold no-button",onClick:function(){return function(){if(n.perks.landmine>0){var e=C(s,-1);r(e)}i(),w.push("/scoreboard")}()},children:[Object(c.jsx)(h.a,{icon:"times"}),"\xa0\xa0No"]})})]})]}):f>0?Object(c.jsxs)("div",{className:"text-center",children:[Object(c.jsx)("h1",{className:"mb-4",children:f}),Object(c.jsx)("button",{className:"btn btn-secondary w-100 p-3",onClick:function(){return m(!0),void i()},children:"Show answer"})]}):"Whops! You ran out of time!"]})}n(106);function L(e){var t=e.players,n=e.setPlayers,s=e.direction,r=e.settings,i=e.isMiniGame,o=e.setIsMiniGame,u=e.playGoodPerkSound,d=Object(a.useState)(),b=Object(l.a)(d,2),O=b[0],p=b[1],f=Object(a.useState)(!1),x=Object(l.a)(f,2),g=x[0],v=x[1];Object(a.useEffect)((function(){var e=t.filter((function(e){return e.points>=r.pointsToWin}))[0];p(e),e&&setTimeout((function(){v(!0),u()}),3e3)}),[]);var y=Object(j.d)();return Object(c.jsxs)("div",{children:[Object(c.jsx)("h2",{children:"Scoreboard"}),Object(c.jsx)("table",{className:"table text-white",children:Object(c.jsx)("tbody",{children:Object(m.a)(t).sort((function(e,t){return t.points-e.points})).map((function(e,t){return Object(c.jsxs)("tr",{className:Q(e,i)?"animate__animated animate__flash":"",children:[Object(c.jsxs)("td",{className:"text-uppercase",children:[t+1,". ",e.name]}),Object(c.jsxs)("td",{className:"text-right",children:[e.points,"p"]})]},t)}))})}),!O&&Object(c.jsx)("div",{className:"text-center pt-5",children:Object(c.jsxs)("button",{onClick:function(){return function(){if(0===r.enabledMiniGames.length||Math.random()>r.probMiniGame||i){var e=B(t,s);e=F(e),e=W(e),n(e),o(!1),y.push("/show-turn")}else o(!0),y.push(Math.random()<.6?"/round-and-round":"/trigger-finger")}()},className:"btn btn-primary px-3 py-3",children:["Next round ",Object(c.jsx)(h.a,{className:"ml-2",icon:"arrow-right"})]})}),g&&Object(c.jsx)("div",{className:"winner-wrapper animate__animated animate__fadeIn",children:Object(c.jsxs)("div",{className:"pb-5 w-100",children:[Object(c.jsx)("div",{className:"perk-icon animate__animated animate__rotateIn",children:Object(c.jsx)(h.a,{icon:"trophy"})}),Object(c.jsxs)("h1",{className:"mb-5",children:[null===O||void 0===O?void 0:O.name," wins!"]}),Object(c.jsx)("button",{className:"btn btn-secondary",onClick:function(){n([]),y.push("/home")},children:"Play again"})]})})]})}var Q=function(e,t){return t?e.isMiniGameWinner:e.isPlayersTurn},W=function(e){return e.map((function(e){return Object(o.a)(Object(o.a)({},e),{},{isMiniGameWinner:!1})}))},B=function(e,t){var n=0,c=e.findIndex((function(e){return e.isPlayersTurn})),a=e.length-1;return n=1===t?c===a?0:c+t:0===c?a:c+t,e.map((function(e,t){return Object(o.a)(Object(o.a)({},e),{},{isPlayersTurn:n===t})}))},F=function(e){return e.map((function(e){return e.isPlayersTurn?Object(o.a)(Object(o.a)({},e),{},{perks:Object.keys(e.perks).reduce((function(t,n){return e.perks[n]>0?Object(o.a)(Object(o.a)({},t),{},Object(N.a)({},n,e.perks[n]-1)):t}),Object(o.a)({},e.perks))}):e}))};n(107);function z(e){var t=e.currentPlayer,n=e.setCurrentCategory,s=e.categories,r=e.play,i=Object(a.useState)({id:0,identifier:"",name:""}),o=Object(l.a)(i,2),u=o[0],d=o[1],b=Object(j.d)();Object(a.useEffect)((function(){m()}),[]);var m=function(){if(!(t.perks.freedomOfChoice>0))var e,c=0,a=setInterval((function(){for(var t=Math.floor(Math.random()*s.length);t===e;)t=Math.floor(Math.random()*s.length);d(s[t]),e=t,15===++c&&(clearInterval(a),n(s[t]),setTimeout((function(){return b.push("/question")}),2e3)),r()}),200)};return Object(c.jsxs)("div",{className:"text-center",children:[Object(c.jsxs)("div",{className:"mb-4",children:[Object(c.jsx)("h1",{className:"mb-0 text-uppercase",children:t.name}),Object(c.jsxs)("div",{children:['"',t.description,'"']}),Object(c.jsxs)("div",{children:["(",t.points," points)"]}),t.perks.freedomOfChoice>0&&Object(c.jsxs)("div",{children:["Freedom Of Choice left: ",t.perks.freedomOfChoice]})]}),Object(c.jsx)("div",{className:"row",children:s.map((function(e,a){return Object(c.jsx)("div",{className:"col-12 col-sm-6 p-1",children:Object(c.jsx)("div",{onClick:function(){return c=e,void(t.perks.freedomOfChoice>0&&(n(c),b.push("/question")));var c},className:"category text-center p-sm-3 "+e.identifier+(e.name===(null===u||void 0===u?void 0:u.name)||t.perks.freedomOfChoice>0?" active":""),children:e.name})},a)}))})]})}n(108);function D(e){var t=e.currentPlayer,n=e.settings,s=Object(j.d)();return Object(a.useEffect)((function(){setTimeout((function(){s.push(Math.random()<n.probPerk?"/perks":"/select-category")}),3e3)}),[]),Object(c.jsx)("div",{className:"show-turn-wrapper",children:Object(c.jsxs)("div",{className:"w-100",children:[Object(c.jsx)("h1",{className:"text-uppercase",children:t.name}),Object(c.jsxs)("h3",{children:['"',t.description,'"']}),Object(c.jsx)("hr",{}),Object(c.jsx)("h2",{children:"You're next!"})]})})}var U,Y={id:null,question:"",answer:"",categoryId:0};function H(e){var t=e.categories,n=e.categoryId,s=e.setAllQuestions,r=e.showModal,i=e.setShowModal,u=e.question,d=Object(a.useState)(Y),j=Object(l.a)(d,2),b=j[0],m=j[1],h=Object(a.useState)(!1),O=Object(l.a)(h,2),p=O[0],x=O[1];Object(a.useEffect)((function(){x(function(e){var t=e.categoryId,n=e.question,c=e.answer;return 0!==Number(t)&&!(n.length<10)&&0!==c.length}(b))}),[b]),Object(a.useEffect)((function(){m(u||Object(o.a)(Object(o.a)({},Y),{},{categoryId:n}))}),[r,u]);var v=function(e){var t=e.name,n=e.value,c="categoryId"===t?Number(n):n;m(Object(o.a)(Object(o.a)({},b),{},Object(N.a)({},t,c)))};return Object(c.jsx)("div",{children:Object(c.jsxs)(g.a,{className:"text-dark",show:r,onHide:function(){return i(!1)},children:[Object(c.jsx)(g.a.Header,{closeButton:!0,children:Object(c.jsxs)(g.a.Title,{children:[u?"Edit ":"Add ","question"]})}),Object(c.jsxs)(g.a.Body,{children:[Object(c.jsx)("p",{children:"Select a category and fill out the form in order to submit a question. Your question will be reviewed by an administrator before it gets added to the app. Thanks for making the game better! <3"}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{children:"Category"}),Object(c.jsxs)("select",{className:"form-control",name:"categoryId",value:b.categoryId,onChange:function(e){return v(e.target)},children:[Object(c.jsx)("option",{value:"0",children:"Choose"}),t.map((function(e,t){return Object(c.jsx)("option",{value:e.id,children:e.name},t)}))]})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{children:"Question"}),Object(c.jsx)("textarea",{onChange:function(e){return v(e.target)},className:"form-control",name:"question",value:b.question,rows:2})]}),!u&&Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{children:"Image"}),Object(c.jsx)("div",{children:Object(c.jsx)("input",{type:"file",onChange:function(e){return t=e.target,void(U=t.files[0]);var t},name:"img"})})]}),(null===u||void 0===u?void 0:u.img)&&Object(c.jsx)("div",{children:Object(c.jsx)("img",{src:"https://quizmageddon.s3.eu-north-1.amazonaws.com/".concat(u.img)})}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{children:"Answer"}),Object(c.jsx)("input",{onChange:function(e){return v(e.target)},className:"form-control",name:"answer",value:b.answer})]})]}),Object(c.jsx)(g.a.Footer,{children:Object(c.jsxs)("button",{type:"button",className:"btn btn-primary",onClick:u?function(){f.saveQuestion(b).then((function(){s(b),m(Object(o.a)(Object(o.a)({},b),{},{question:"",answer:""})),i(!1)})).catch((function(e){return console.log(e)}))}:function(){f.addQuestion(b,U).then((function(){s(b),m(Object(o.a)(Object(o.a)({},b),{},{question:"",answer:""}))})).catch((function(e){return console.log(e)}))},disabled:!p,children:[u?"Save ":"Add ","question"]})})]})})}var J=function(e,t,n,c){return e.filter((function(e){var a,s;return((null===e||void 0===e||null===(a=e.question)||void 0===a?void 0:a.toLowerCase().includes(t))||(null===e||void 0===e||null===(s=e.answer)||void 0===s?void 0:s.toLowerCase().includes(t)))&&(0===n||(null===e||void 0===e?void 0:e.categoryId)===n)&&c===!!e.img}))};function K(e){var t=e.categories,n=Object(a.useState)([]),s=Object(l.a)(n,2),r=s[0],i=s[1],o=Object(a.useState)([]),u=Object(l.a)(o,2),d=u[0],j=u[1],b=Object(a.useState)(""),h=Object(l.a)(b,2),O=h[0],p=h[1],x=Object(a.useState)(0),g=Object(l.a)(x,2),v=g[0],y=g[1],N=Object(a.useState)(!1),w=Object(l.a)(N,2),k=w[0],S=w[1],C=Object(a.useState)(!1),T=Object(l.a)(C,2),M=T[0],P=T[1],q=Object(a.useState)(void 0),E=Object(l.a)(q,2),I=E[0],_=E[1];Object(a.useEffect)((function(){f.getAllQuestions().then((function(e){i(e.data.questions),j(e.data.questions)}))}),[]);return Object(c.jsxs)("div",{children:[Object(c.jsx)("h1",{className:"mb-4",children:"Questions"}),Object(c.jsxs)("div",{className:"row mb-4",children:[Object(c.jsx)("div",{className:"col-12 col-sm-4",children:Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{children:"Category"}),Object(c.jsxs)("select",{className:"form-control",onChange:function(e){return function(e){y(Number(e)),j(J(r,O,Number(e),k))}(e.target.value)},children:[Object(c.jsx)("option",{value:"0",children:"All categories"}),t.map((function(e){return Object(c.jsxs)("option",{value:e.id,children:[e.name," (",e.questions,")"]})}))]})]})}),Object(c.jsx)("div",{className:"col-12 col-sm-4",children:Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{children:"Filter term"}),Object(c.jsx)("input",{className:"form-control",onChange:function(e){return function(e){p(e.toLowerCase()),j(J(r,e.toLowerCase(),v,k))}(e.target.value)}})]})}),Object(c.jsx)("div",{className:"col-12 col-sm-4",children:Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{className:"d-none d-sm-block",children:"\xa0"}),Object(c.jsx)("button",{className:"btn btn-secondary w-100",onClick:function(){_(void 0),P(!0)},children:"Add Question"})]})}),Object(c.jsx)("div",{className:"col-12",children:Object(c.jsx)("div",{className:"form-group",children:Object(c.jsxs)("div",{className:"form-check",children:[Object(c.jsx)("input",{className:"form-check-input",type:"checkbox",checked:k,onChange:function(e){var t=e.target,n=t.checked;t.name;S(n),j(J(r,O,Number(v),n))}}),Object(c.jsx)("label",{className:"form-check-label",children:"Show only image questions"})]})})})]}),Object(c.jsxs)("p",{children:[d.length," questions"]}),d.length>0&&Object(c.jsxs)("table",{className:"table text-white table-dark table-hover",children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{children:"Question"}),Object(c.jsx)("th",{children:"Answer"}),Object(c.jsx)("th",{children:"Tags"})]})}),Object(c.jsx)("tbody",{children:d.map((function(e){return Object(c.jsxs)("tr",{className:"clickable",onClick:function(){return function(e){_(e),P(!0)}(e)},children:[Object(c.jsx)("td",{children:e.question}),Object(c.jsx)("td",{children:e.answer}),Object(c.jsx)("td",{children:e.tags})]})}))})]}),Object(c.jsx)(H,{categoryId:v,categories:t,question:I,showModal:M,setShowModal:P,setAllQuestions:function(e){var t=[].concat(Object(m.a)(r),[e]);i(t)}})]})}var X=n.p+"static/media/button.6be18c19.mp3",V=n.p+"static/media/goodPerk.48ebac9f.mp3",Z=n.p+"static/media/robots.8d72ac60.mp3",$=n.p+"static/media/countdown2.2596fc0b.mp3",ee=n.p+"static/media/trigger.5d9bb61e.mp3",te=n.p+"static/media/tooearly.874996ee.mp3";u.b.add(d.i,d.a,d.e,d.l,d.f,d.c,d.h,d.d,d.j,d.b,d.g,d.k);var ne=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],s=t[1],r=Object(a.useState)({pointsToWin:10,enabledMiniGames:["roundAndRound","triggerFinger","closestWins"],probMiniGame:.1,probPerk:.2,probPlayerPerk:.6,lightMode:!1,imgBaseUrl:"https://quizmageddon.s3.eu-north-1.amazonaws.com/"}),i=Object(l.a)(r,2),u=i[0],d=i[1],m={volume:1},h=Object(a.useState)({}),O=Object(l.a)(h,2),p=O[0],f=O[1],g=Object(a.useState)([]),v=Object(l.a)(g,2),N=v[0],w=v[1],k=Object(a.useState)({}),S=Object(l.a)(k,2),P=S[0],q=S[1],I=Object(a.useState)({}),_=Object(l.a)(I,2),G=_[0],A=_[1],Q=Object(a.useState)(1),W=Object(l.a)(Q,2),B=W[0],F=W[1],U=Object(a.useState)({}),Y=Object(l.a)(U,2),H=Y[0],J=Y[1],ne=Object(a.useState)(!1),ce=Object(l.a)(ne,2),ae=ce[0],se=ce[1],re=Object(b.a)(Z,m),ie=Object(l.a)(re,1)[0],oe=Object(b.a)(X,m),le=Object(l.a)(oe,1)[0],ue=Object(b.a)(V,m),de=Object(l.a)(ue,1)[0],je=Object(b.a)(ee,m),be=Object(l.a)(je,1)[0],me=Object(b.a)($,{volume:.5}),he=Object(l.a)(me,1)[0],Oe=Object(b.a)(te,m),pe=Object(l.a)(Oe,1)[0];return Object(a.useEffect)((function(){u.lightMode?document.body.classList.add("light-mode"):document.body.classList.remove("light-mode")}),[u]),Object(c.jsx)("div",{className:"App",children:Object(c.jsx)(j.a,{children:Object(c.jsxs)(j.c,{children:[Object(c.jsx)(j.b,{exact:!0,path:"/",children:Object(c.jsx)(C,{setUser:J})}),Object(c.jsx)(j.b,{path:"/home",children:Object(c.jsx)(y,{categories:N,user:H,settings:u,setSettings:d,setCategories:w,setQuestions:f,setThemes:A})}),Object(c.jsx)(j.b,{path:"/add-players",children:Object(c.jsx)(x,{players:n,playBtnSound:le,setPlayers:s})}),Object(c.jsx)(j.b,{path:"/show-turn",children:Object(c.jsx)(D,{settings:u,currentPlayer:n.filter((function(e){return e.isPlayersTurn}))[0]})}),Object(c.jsx)(j.b,{path:"/perks",children:Object(c.jsx)(E,{settings:u,players:n,playGoodPerkSound:de,setPlayers:s,setDirection:function(){return F(-1*B)}})}),Object(c.jsx)(j.b,{path:"/round-and-round",children:Object(c.jsx)(T,{players:n,themes:G,playGoodPerkSound:de,playBtnSound:le,setPlayers:s})}),Object(c.jsx)(j.b,{path:"/trigger-finger",children:Object(c.jsx)(M,{players:n,playGoodPerkSound:de,playTriggerSound:be,playCountdownSound:he,playTooEarlySound:pe,playBtnSound:le,setPlayers:s})}),Object(c.jsx)(j.b,{path:"/select-category",children:Object(c.jsx)(z,{currentPlayer:n.filter((function(e){return e.isPlayersTurn}))[0],categories:N.filter((function(e){return!e.disabled})),play:ie,setCurrentCategory:function(e){var t=p.filter((function(t){return t.categoryId===e.id})),n=t.length,c=t[Math.floor(Math.random()*n)];f(p.filter((function(e){return e.id!==c.id}))),q(Object(o.a)(Object(o.a)({},c),{},{category:e.identifier}))}})}),Object(c.jsx)(j.b,{path:"/question",children:Object(c.jsx)(R,{currentPlayer:n.filter((function(e){return e.isPlayersTurn}))[0],currentQuestion:P,players:n,settings:u,playBtnSound:le,setPlayers:s})}),Object(c.jsx)(j.b,{path:"/scoreboard",children:Object(c.jsx)(L,{settings:u,direction:B,players:n,setPlayers:s,isMiniGame:ae,setIsMiniGame:se,playGoodPerkSound:de})}),Object(c.jsx)(j.b,{path:"/admin/questions",children:Object(c.jsx)(K,{categories:N})})]})})})},ce=function(e){e&&e instanceof Function&&n.e(4).then(n.bind(null,113)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),s(e),r(e)}))};i.a.render(Object(c.jsx)(s.a.StrictMode,{children:Object(c.jsx)(ne,{})}),document.getElementById("root")),ce()},53:function(e,t,n){},56:function(e,t,n){},76:function(e,t,n){},80:function(e,t,n){}},[[109,1,2]]]);
//# sourceMappingURL=main.81a83043.chunk.js.map